# YouTube Live Chat Collector

YouTubeãƒ©ã‚¤ãƒ–é…ä¿¡ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åé›†ãƒ»ä¿å­˜ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

- YouTubeãƒãƒ£ãƒ³ãƒãƒ«ã®ãƒ©ã‚¤ãƒ–é…ä¿¡ã‚’24æ™‚é–“è‡ªå‹•ç›£è¦–
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’åé›†ãƒ»ä¿å­˜
- å®Œå…¨ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ»é–²è¦§
- AWSä¸Šã§ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ§‹æˆã«ã‚ˆã‚Šä½ã‚³ã‚¹ãƒˆã§é‹ç”¨
- å•†ç”¨ãƒ¬ãƒ™ãƒ«ã®å®‰å®šæ€§ã¨æ©Ÿèƒ½ã‚’å®Ÿç¾

## ğŸŒ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

**ä¸»è¦æ©Ÿèƒ½**:
- ğŸ“Š **ã‚·ã‚¹ãƒ†ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµ±è¨ˆè¡¨ç¤º
- ğŸ“º **ãƒãƒ£ãƒ³ãƒãƒ«ç®¡ç†**: å®Œå…¨ãªCRUDæ“ä½œ
- ğŸ”´ **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–é…ä¿¡ç›£è¦–**: ãƒ©ã‚¤ãƒ–é…ä¿¡çŠ¶æ³è¡¨ç¤º
- ğŸ’¬ **ã‚³ãƒ¡ãƒ³ãƒˆåé›†ç®¡ç†**: åé›†ãƒ‡ãƒ¼ã‚¿ç¢ºèªãƒ»åˆ¶å¾¡

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React.js + TypeScript (S3 Static Website)
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: AWS Lambda + API Gateway + DynamoDB
- **ã‚³ãƒ¡ãƒ³ãƒˆåé›†**: ECS Fargate + pytchat
- **ã‚¤ãƒ³ãƒ•ãƒ©**: Terraform (110ãƒªã‚½ãƒ¼ã‚¹å®Œå…¨è‡ªå‹•åŒ–)
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Ansible (å®Œå…¨è‡ªå‹•åŒ–)
- **ç›£è¦–**: CloudWatch + EventBridge

### **ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React.js      â”‚    â”‚   API Gateway    â”‚    â”‚   Lambda        â”‚
â”‚   Frontend      â”‚â—„â”€â”€â–ºâ”‚   REST API       â”‚â—„â”€â”€â–ºâ”‚   Functions     â”‚
â”‚   (S3 Website)  â”‚    â”‚                  â”‚    â”‚   (4 Functions) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EventBridge   â”‚    â”‚   SQS Queue      â”‚    â”‚   DynamoDB      â”‚
â”‚   (Scheduler)   â”‚â—„â”€â”€â–ºâ”‚   (Task Control) â”‚â—„â”€â”€â–ºâ”‚   (4 Tables)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ECS Fargate   â”‚    â”‚   ECR Registry   â”‚    â”‚   CloudWatch    â”‚
â”‚   (Comment      â”‚â—„â”€â”€â–ºâ”‚   (Container     â”‚â—„â”€â”€â–ºâ”‚   (Logs &       â”‚
â”‚    Collector)   â”‚    â”‚    Images)       â”‚    â”‚    Monitoring)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–²
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CodeBuild      â”‚
                    â”‚   (Auto Build)   â”‚
                    â”‚   GitHub â†’ ECR   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
â”œâ”€â”€ terraform/                 # ã‚¤ãƒ³ãƒ•ãƒ©å®šç¾©
â”‚   â”œâ”€â”€ environments/
â”‚   â”‚   â””â”€â”€ dev/               # é–‹ç™ºç’°å¢ƒè¨­å®š
â”‚   â””â”€â”€ modules/               # Terraformãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ networking/        # VPCã€ã‚µãƒ–ãƒãƒƒãƒˆ
â”‚       â”œâ”€â”€ storage/           # DynamoDB
â”‚       â”œâ”€â”€ compute/           # Lambdaã€ECS
â”‚       â”œâ”€â”€ messaging/         # SQSã€EventBridge
â”‚       â”œâ”€â”€ api/              # API Gateway
â”‚       â”œâ”€â”€ frontend/         # S3ã€CloudFront
â”‚       â””â”€â”€ integration/      # ã‚µãƒ¼ãƒ“ã‚¹é–“çµ±åˆ
â”œâ”€â”€ src/                      # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ lambda/               # Lambdaé–¢æ•°
â”‚   â”‚   â”œâ”€â”€ rss_monitor/      # RSSç›£è¦–
â”‚   â”‚   â”œâ”€â”€ stream_status_checker/  # é…ä¿¡çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ ecs_task_launcher/      # ECSåˆ¶å¾¡
â”‚   â”‚   â””â”€â”€ api_handler/      # REST API
â”‚   â”œâ”€â”€ ecs/                  # ECSã‚³ãƒ³ãƒ†ãƒŠ
â”‚   â”‚   â””â”€â”€ comment_collector/ # ã‚³ãƒ¡ãƒ³ãƒˆåé›†
â”‚   â””â”€â”€ frontend/             # Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â””â”€â”€ youtube-chat-viewer/
â”œâ”€â”€ ansible/                  # ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªå‹•åŒ–
â”‚   â”œâ”€â”€ deploy-all.yml        # å®Œå…¨ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”œâ”€â”€ quick-deploy.yml      # å€‹åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”œâ”€â”€ playbooks/            # å·¥ç¨‹åˆ¥ãƒ—ãƒ¬ã‚¤ãƒ–ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ 01-pre-checks.yml      # äº‹å‰ãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ 02-deploy-lambda.yml   # Lambdaé–¢æ•°ãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”‚   â”œâ”€â”€ 03-deploy-container.yml # ECSã‚³ãƒ³ãƒ†ãƒŠãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”‚   â”œâ”€â”€ 04-deploy-frontend.yml # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”‚   â”œâ”€â”€ 05-post-verification.yml # ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œæ¤œè¨¼
â”‚   â”‚   â””â”€â”€ old/              # æ—§ãƒ—ãƒ¬ã‚¤ãƒ–ãƒƒã‚¯ä¿ç®¡
â”‚   â””â”€â”€ roles/                # Ansibleãƒ­ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ lambda-deployment/     # Lambdaé–¢æ•°ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ­ãƒ¼ãƒ«
â”‚       â””â”€â”€ container-deployment/  # ã‚³ãƒ³ãƒ†ãƒŠãƒ‡ãƒ—ãƒ­ã‚¤ãƒ­ãƒ¼ãƒ«
â””â”€â”€ docs/                     # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ design_system.md      # ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸
    â”œâ”€â”€ design_functional.md  # æ©Ÿèƒ½è¨­è¨ˆæ›¸
    â”œâ”€â”€ spec_data_model.md    # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ä»•æ§˜
    â”œâ”€â”€ spec_api.md           # APIä»•æ§˜æ›¸
    â””â”€â”€ log_development_with_q_developer.md # é–‹ç™ºè¨˜éŒ²
```
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. å‰ææ¡ä»¶

**å¿…é ˆè¦ä»¶:**
- AWS CLIè¨­å®šæ¸ˆã¿ï¼ˆé©åˆ‡ãªæ¨©é™ä»˜ä¸ï¼‰
- Terraform >= 1.0
- Ansible >= 2.9
- Node.js >= 16

**ä¸è¦ã«ãªã£ãŸè¦ä»¶:**
- ~~Docker~~ â†’ AWS CodeBuildã§è‡ªå‹•åŒ–
- ~~ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒ~~ â†’ ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–åŒ–

### 2. ç’°å¢ƒè¨­å®š

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/ando1912/YoutubeLiveChatDBSystem.git
cd 250820_YoutubeLiveChatCollector

# Terraformå¤‰æ•°è¨­å®š
cp terraform/environments/dev/terraform.tfvars.example terraform/environments/dev/terraform.tfvars
# terraform.tfvarsã‚’ç·¨é›†ã—ã¦YouTube API Keyãªã©ã‚’è¨­å®š
```

### 3. ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰

```bash
cd terraform/environments/dev
terraform init
terraform plan
terraform apply
```

**ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ï¼ˆ113å€‹ï¼‰:**
- VPCãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ï¼ˆã‚µãƒ–ãƒãƒƒãƒˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰
- DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ4ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- Lambda é–¢æ•°ï¼ˆ4é–¢æ•°ï¼‰+ IAMæ¨©é™
- ECS ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ + ECR ãƒªãƒã‚¸ãƒˆãƒª
- **CodeBuild ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ˆã‚³ãƒ³ãƒ†ãƒŠè‡ªå‹•ãƒ“ãƒ«ãƒ‰ç”¨ï¼‰
- API Gateway + èªè¨¼
- EventBridge + SQS
- S3 ãƒã‚±ãƒƒãƒˆï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ï¼‰
- CloudWatch ãƒ­ã‚°ãƒ»ç›£è¦–

### 4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤

#### ğŸš€ ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰å®Œå…¨ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ¨å¥¨ï¼‰

```bash
cd ansible
ansible-playbook deploy-all.yml
```

**å®Ÿè¡Œå†…å®¹ï¼ˆå®Œå…¨è‡ªå‹•åŒ–ï¼‰:**
- âœ… äº‹å‰ãƒã‚§ãƒƒã‚¯ï¼ˆAWS CLIã€æ¨©é™ã€TerraformçŠ¶æ…‹ï¼‰
- âœ… Lambdaé–¢æ•°ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ4é–¢æ•°åŒæ™‚ãƒ»ä¾å­˜é–¢ä¿‚è‡ªå‹•è§£æ±ºï¼‰
- âœ… **CodeBuildã‚³ãƒ³ãƒ†ãƒŠãƒ“ãƒ«ãƒ‰**ï¼ˆGitHub â†’ ECRè‡ªå‹•ãƒ—ãƒƒã‚·ãƒ¥ï¼‰
- âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆReact.js ãƒ“ãƒ«ãƒ‰ â†’ S3åŒæœŸï¼‰
- âœ… ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œæ¤œè¨¼ï¼ˆAPIãƒ»UIãƒ»çµ±åˆãƒ†ã‚¹ãƒˆï¼‰

**æ‰€è¦æ™‚é–“:** ç´„5-8åˆ†ï¼ˆCodeBuildãƒ“ãƒ«ãƒ‰å«ã‚€ï¼‰

#### ğŸ¯ å€‹åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# Lambdaé–¢æ•°ã®ã¿ï¼ˆé«˜é€Ÿãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰
ansible-playbook quick-deploy.yml -e "component=lambda"

# ã‚³ãƒ³ãƒ†ãƒŠã®ã¿ï¼ˆCodeBuildå®Ÿè¡Œï¼‰
ansible-playbook quick-deploy.yml -e "component=container"

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿ï¼ˆReact ãƒ“ãƒ«ãƒ‰ãƒ»S3ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰
ansible-playbook quick-deploy.yml -e "component=frontend"
```

#### ğŸ“‹ å·¥ç¨‹åˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆè©³ç´°åˆ¶å¾¡ï¼‰

```bash
# 1. äº‹å‰ãƒã‚§ãƒƒã‚¯
ansible-playbook playbooks/01-pre-checks.yml

# 2. Lambdaé–¢æ•°ãƒ‡ãƒ—ãƒ­ã‚¤
ansible-playbook playbooks/02-deploy-lambda.yml

# 3. ECSã‚³ãƒ³ãƒ†ãƒŠãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆCodeBuildçµ±åˆï¼‰
ansible-playbook playbooks/03-deploy-container.yml

# 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤
ansible-playbook playbooks/04-deploy-frontend.yml

# 5. ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œæ¤œè¨¼
ansible-playbook playbooks/05-post-verification.yml
```

### 5. ğŸ†• CodeBuildçµ±åˆã®ç‰¹å¾´

#### **è‡ªå‹•ã‚³ãƒ³ãƒ†ãƒŠãƒ“ãƒ«ãƒ‰**
```bash
# å¾“æ¥ï¼ˆæ‰‹å‹•ï¼‰
docker build -t comment-collector .
docker tag comment-collector:latest ECR_URI:latest
docker push ECR_URI:latest

# ç¾åœ¨ï¼ˆå®Œå…¨è‡ªå‹•ï¼‰
ansible-playbook playbooks/03-deploy-container.yml
# â†’ CodeBuildãŒè‡ªå‹•å®Ÿè¡Œ â†’ ECRãƒ—ãƒƒã‚·ãƒ¥å®Œäº†
```

#### **ãƒªã‚½ãƒ¼ã‚¹åŠ¹ç‡**
```
ãƒ­ãƒ¼ã‚«ãƒ«è² è·: 95%å‰Šæ¸›
- CPUä½¿ç”¨ç‡: 80-100% â†’ <5%
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 1-2GB â†’ <100MB
- ç’°å¢ƒä¾å­˜: ã‚ã‚Š â†’ ãªã—
- è¨­å®šè¤‡é›‘åº¦: é«˜ â†’ ã‚¼ãƒ­
```

#### **ã‚³ã‚¹ãƒˆåŠ¹ç‡**
```
CodeBuildæ–™é‡‘: æœˆé¡å®Ÿè³ªç„¡æ–™
- ãƒ“ãƒ«ãƒ‰æ™‚é–“: 1åˆ†10ç§’/å›
- æ–™é‡‘: $0.006/å›ï¼ˆç´„1å††ï¼‰
- ç„¡æ–™æ : æœˆ100åˆ† â†’ 85å›ã¾ã§ç„¡æ–™
- æƒ³å®šä½¿ç”¨: æœˆ10å› â†’ å®Œå…¨ç„¡æ–™æ å†…
```

## ğŸš€ å®Œå…¨è‡ªå‹•åŒ–ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

### **ğŸ“‹ Phase 1: ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£æ§‹ç¯‰**
```
ğŸ—ï¸ Terraform Infrastructure Deployment
â”œâ”€â”€ 1. åŸºç›¤ãƒªã‚½ãƒ¼ã‚¹ä½œæˆ
â”‚   â”œâ”€â”€ VPCãƒ»ã‚µãƒ–ãƒãƒƒãƒˆãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â”œâ”€â”€ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ« (4ãƒ†ãƒ¼ãƒ–ãƒ«)
â”‚   â”œâ”€â”€ S3 ãƒã‚±ãƒƒãƒˆ (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨)
â”‚   â””â”€â”€ Parameter Store (YouTube API Key)
â”œâ”€â”€ 2. ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆãƒªã‚½ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ Lambda é–¢æ•° (4é–¢æ•°) â€»ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ ECS ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ»ã‚¿ã‚¹ã‚¯å®šç¾©
â”‚   â”œâ”€â”€ ECR ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â””â”€â”€ CodeBuild ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ âœ¨è‡ªå‹•ãƒ“ãƒ«ãƒ‰ç”¨
â”œâ”€â”€ 3. çµ±åˆãƒ»ç›£è¦–
â”‚   â”œâ”€â”€ API Gateway (REST API)
â”‚   â”œâ”€â”€ EventBridge ãƒ«ãƒ¼ãƒ«ãƒ»ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ
â”‚   â”œâ”€â”€ SQS ã‚­ãƒ¥ãƒ¼
â”‚   â””â”€â”€ CloudWatch ãƒ­ã‚°ãƒ»ã‚¢ãƒ©ãƒ¼ãƒ 
â””â”€â”€ çµæœ: 113 AWS ãƒªã‚½ãƒ¼ã‚¹ä½œæˆå®Œäº†
```

### **ğŸ“‹ Phase 2: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤**
```
ğŸš€ Ansible Application Deployment
â”œâ”€â”€ 1. Lambda é–¢æ•°ãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”œâ”€â”€ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ + ä¾å­˜é–¢ä¿‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
â”‚   â”œâ”€â”€ ZIP ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ 4é–¢æ•°åŒæ™‚ãƒ‡ãƒ—ãƒ­ã‚¤ (RSS Monitor, Stream Status, ECS Launcher, API Handler)
â”‚   â””â”€â”€ çµæœ: å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã§Lambdaæ›´æ–°
â”œâ”€â”€ 2. ã‚³ãƒ³ãƒ†ãƒŠãƒ‡ãƒ—ãƒ­ã‚¤ (CodeBuildçµŒç”±) âœ¨æ–°æ–¹å¼
â”‚   â”œâ”€â”€ CodeBuild ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè¡Œ
â”‚   â”œâ”€â”€ GitHub ã‚½ãƒ¼ã‚¹å–å¾— â†’ Docker ãƒ“ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ ECR ãƒ—ãƒƒã‚·ãƒ¥ (1åˆ†10ç§’ã§å®Œäº†)
â”‚   â””â”€â”€ çµæœ: ECS ã§ä½¿ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸
â”œâ”€â”€ 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”œâ”€â”€ React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ“ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ ç’°å¢ƒå¤‰æ•°è¨­å®š (API Gateway URLç­‰)
â”‚   â”œâ”€â”€ S3 ãƒã‚±ãƒƒãƒˆã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚   â””â”€â”€ çµæœ: é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆå…¬é–‹
â””â”€â”€ 4. ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œæ¤œè¨¼
    â”œâ”€â”€ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
    â”œâ”€â”€ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¢ºèª
    â””â”€â”€ ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ†ã‚¹ãƒˆ
```

### **âš¡ å®Ÿè¡Œæ™‚é–“ãƒ»åŠ¹ç‡**
```
å®Œå…¨ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚é–“: 5-8åˆ†
â”œâ”€â”€ Lambda ãƒ‡ãƒ—ãƒ­ã‚¤: 2-3åˆ†
â”œâ”€â”€ CodeBuildå®Ÿè¡Œ: 1-2åˆ† (ä¸¦åˆ—å®Ÿè¡Œ)
â”œâ”€â”€ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: 1-2åˆ†
â””â”€â”€ æ¤œè¨¼ãƒ»ç¢ºèª: 1åˆ†

ãƒªã‚½ãƒ¼ã‚¹åŠ¹ç‡:
- ãƒ­ãƒ¼ã‚«ãƒ«CPUä½¿ç”¨ç‡: <5% (å¾“æ¥80-100%)
- ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¡ãƒ¢ãƒª: <100MB (å¾“æ¥1-2GB)
- ç’°å¢ƒä¾å­˜æ€§: å®Œå…¨æ’é™¤
- æ‰‹å‹•ä½œæ¥­: 0å€‹
```

## ä½¿ç”¨æ–¹æ³•

1. Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ç›£è¦–ã—ãŸã„YouTubeãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¿½åŠ 
3. ãƒ©ã‚¤ãƒ–é…ä¿¡ãŒé–‹å§‹ã•ã‚Œã‚‹ã¨è‡ªå‹•çš„ã«ã‚³ãƒ¡ãƒ³ãƒˆåé›†é–‹å§‹
4. åé›†ã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã‚’Webã§ç¢ºèª

## è¨­å®š

### YouTube Data API

1. Google Cloud Consoleã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. YouTube Data API v3ã‚’æœ‰åŠ¹åŒ–
3. APIã‚­ãƒ¼ã‚’å–å¾—
4. `terraform.tfvars`ã«è¨­å®š

### IPåˆ¶é™

æœ¬ç•ªç’°å¢ƒã§ã¯`allowed_ip_addresses`ã‚’é©åˆ‡ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚

## ç›£è¦–ãƒ»é‹ç”¨

- CloudWatch Logsã§ãƒ­ã‚°ç¢ºèª
- DynamoDBã§ãƒ‡ãƒ¼ã‚¿ç¢ºèª
- ã‚³ã‚¹ãƒˆç›£è¦–ï¼ˆæœˆé¡$2-3æƒ³å®šï¼‰

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **YouTube APIåˆ¶é™**
   - 1æ—¥10,000 unitsåˆ¶é™
   - åˆ¶é™è¶…éæ™‚ã¯ç¿Œæ—¥ã¾ã§å¾…æ©Ÿ

2. **ECS Taskèµ·å‹•å¤±æ•—**
   - CloudWatch Logsã§ã‚¨ãƒ©ãƒ¼ç¢ºèª
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šç¢ºèª

3. **Lambdaé–¢æ•°ã‚¨ãƒ©ãƒ¼**
   - CloudWatch Logsã§ã‚¨ãƒ©ãƒ¼è©³ç´°ç¢ºèª
   - IAMæ¨©é™è¨­å®šç¢ºèª

## é–‹ç™º

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
cd src/frontend/react-app
npm start

# Lambdaé–¢æ•°ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ
cd src/lambda/rss_monitor
python -m pytest tests/
```

### ãƒ‡ãƒ—ãƒ­ã‚¤

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ã¯`docs/deployment_guide.md`ã‚’å‚ç…§

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ã‚¤ã‚·ãƒ¥ãƒ¼ã®å ±å‘Šã‚’æ­“è¿ã—ã¾ã™ã€‚

---

**ä½œæˆæ—¥**: 2025-08-21  
**æœ€çµ‚æ›´æ–°**: 2025-08-23  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0  
**ã‚·ã‚¹ãƒ†ãƒ å®Œæˆåº¦**: 98% (å•†ç”¨é‹ç”¨å¯èƒ½ãƒ¬ãƒ™ãƒ«)
